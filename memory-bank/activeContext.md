# ACTIVE CONTEXT - –ü–û–¢–û–ß–ù–ò–ô –§–û–ö–£–°

## –ü–û–¢–û–ß–ù–ê –ó–ê–î–ê–ß–ê
**–†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –º–æ–Ω–æ–ª—ñ—Ç–Ω–æ–≥–æ app.js** (Level 4 Complex System)

## –°–¢–ê–¢–£–° –í–ò–ö–û–ù–ê–ù–ù–Ø  
- ‚úÖ **VAN Mode**: –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è —Å–∏—Å—Ç–µ–º–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- ‚úÖ **PLAN Mode**: –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω–µ –ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–µ
- ‚úÖ **CREATIVE Mode**: –í—Å—ñ 3 –¥–∏–∑–∞–π–Ω–µ—Ä—Å—å–∫—ñ —Ñ–∞–∑–∏ –∑–∞–≤–µ—Ä—à–µ–Ω—ñ
- üîÑ **IMPLEMENT Mode**: –ì–æ—Ç–æ–≤–∏–π –¥–æ –ø–æ—á–∞—Ç–∫—É —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó
- ‚è≥ **REFLECT Mode**: –ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω–æ –ø—ñ—Å–ª—è —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—ó

## CREATIVE MODE RESULTS ‚úÖ

### ‚úÖ Service Layer Design (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
**–†—ñ—à–µ–Ω–Ω—è**: Hybrid —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π –ø—ñ–¥—Ö—ñ–¥ –∑ —Ü–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–º–∏ helpers
- –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ —Å–µ—Ä–≤—ñ—Å–∏ –∑–∞–º—ñ—Å—Ç—å –∫–ª–∞—Å—ñ–≤
- auditService.js –¥–ª—è –ª–æ–≥—É–≤–∞–Ω–Ω—è
- validationService.js –¥–ª—è –≤–∞–ª—ñ–¥–∞—Ü—ñ–π

### ‚úÖ API Design (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)  
**–†—ñ—à–µ–Ω–Ω—è**: –°—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–æ–≤–∞–Ω—ñ REST responses –∑ success/error wrapper
- –£–Ω—ñ—Ñ—ñ–∫–æ–≤–∞–Ω–∏–π response format –∑ meta —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é
- Backward compatibility –¥–ª—è legacy endpoints
- Response helper functions

### ‚úÖ Error Handling Design (–ó–∞–≤–µ—Ä—à–µ–Ω–æ)
**–†—ñ—à–µ–Ω–Ω—è**: Custom Error Classes + Express Middleware + Logging
- AppError base class –∑ hierarchy
- Global error handler middleware
- –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–µ error logging

## –ù–ê–°–¢–£–ü–ù–Ü –ö–†–û–ö–ò
**–ì–û–¢–û–í–ò–ô –î–û IMPLEMENT MODE** üöÄ

–ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–Ω—ñ —Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–∏–π–Ω—è—Ç—ñ, –º–æ–∂–Ω–∞ –ø–æ—á–∏–Ω–∞—Ç–∏ —ñ–º–ø–ª–µ–º–µ–Ω—Ç–∞—Ü—ñ—é:
1. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø–∞–ø–∫–æ–≤–æ—ó —Å—Ç—Ä—É–∫—Ç—É—Ä–∏
2. –ú—ñ–≥—Ä–∞—Ü—ñ—è Products module (proof of concept)
3. –ó–∞—Å—Ç–æ—Å—É–≤–∞–Ω–Ω—è patterns –¥–æ —ñ–Ω—à–∏—Ö –º–æ–¥—É–ª—ñ–≤

## –ö–õ–Æ–ß–û–í–Ü –ê–†–•–Ü–¢–ï–ö–¢–£–†–ù–Ü –†–Ü–®–ï–ù–ù–Ø
- **Pattern**: Router + Service + Validator (functional approach)
- **API**: Standardized REST –∑ unified responses
- **Errors**: –¶–µ–Ω—Ç—Ä–∞–ª—ñ–∑–æ–≤–∞–Ω–∞ –æ–±—Ä–æ–±–∫–∞ –∑ custom error types
- **Migration**: –ü–æ–µ—Ç–∞–ø–Ω–∞ –∑ Products module —è–∫ –ø–æ—á–∞—Ç–æ–∫

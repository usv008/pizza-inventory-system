# üìÅ Supabase Migrations

–¶—è –ø–∞–ø–∫–∞ –º—ñ—Å—Ç–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç–∏ –¥–ª—è –º—ñ–≥—Ä–∞—Ü—ñ—ó –∑ SQLite –Ω–∞ Supabase (PostgreSQL).

## üìã –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

–§–∞–π–ª–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó —ñ–º–µ–Ω—É—é—Ç—å—Å—è –∑–∞ —à–∞–±–ª–æ–Ω–æ–º: `XXX_description.sql`
- `XXX` - –ø–æ—Ä—è–¥–∫–æ–≤–∏–π –Ω–æ–º–µ—Ä (001, 002, ...)
- `description` - –∫–æ—Ä–æ—Ç–∫–∏–π –æ–ø–∏—Å –º—ñ–≥—Ä–∞—Ü—ñ—ó

## üóÇÔ∏è –°–ø–∏—Å–æ–∫ –º—ñ–≥—Ä–∞—Ü—ñ–π

### –ï–¢–ê–ü 0: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–æ)
- –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è

### –ï–¢–ê–ü 1: –ë–∞–∑–æ–≤—ñ –¥–æ–≤—ñ–¥–Ω–∏–∫–∏
- `001_create_products_table.sql` - –¢–∞–±–ª–∏—Ü—è —Ç–æ–≤–∞—Ä—ñ–≤
- `002_create_clients_table.sql` - –¢–∞–±–ª–∏—Ü—è –∫–ª—ñ—î–Ω—Ç—ñ–≤

### –ï–¢–ê–ü 2: –°–∏—Å—Ç–µ–º–∞ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `003_create_users_table.sql` - –¢–∞–±–ª–∏—Ü—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `004_create_user_sessions_table.sql` - –¢–∞–±–ª–∏—Ü—è —Å–µ—Å—ñ–π

### –ï–¢–ê–ü 3: –û—Å–Ω–æ–≤–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó
- `005_create_orders_table.sql` - –¢–∞–±–ª–∏—Ü—è –∑–∞–º–æ–≤–ª–µ–Ω—å
- `006_create_order_items_table.sql` - –ü–æ–∑–∏—Ü—ñ—ó –∑–∞–º–æ–≤–ª–µ–Ω—å

### –ï–¢–ê–ü 4: –í–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–æ
- `007_create_production_table.sql` - –¢–∞–±–ª–∏—Ü—è –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞
- `008_create_production_batches_table.sql` - –ü–∞—Ä—Ç—ñ—ó –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞

### –ï–¢–ê–ü 5: –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–ø–∞—Å–∞–º–∏
- `009_create_stock_movements_table.sql` - –†—É—Ö–∏ –∑–∞–ø–∞—Å—ñ–≤
- `010_create_writeoffs_table.sql` - –°–ø–∏—Å–∞–Ω–Ω—è

### –ï–¢–ê–ü 6: –ü–ª–∞–Ω—É–≤–∞–Ω–Ω—è –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞
- `011_create_production_plans_table.sql` - –ü–ª–∞–Ω–∏ –≤–∏—Ä–æ–±–Ω–∏—Ü—Ç–≤–∞
- `012_create_production_plan_items_table.sql` - –ü–æ–∑–∏—Ü—ñ—ó –ø–ª–∞–Ω—ñ–≤
- `013_create_production_settings_table.sql` - –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ï–¢–ê–ü 7: –ù–∞–¥—Ö–æ–¥–∂–µ–Ω–Ω—è
- `014_create_arrivals_table.sql` - Nad—Ö–æ–¥–∂–µ–Ω–Ω—è
- `015_create_arrivals_items_table.sql` - –ü–æ–∑–∏—Ü—ñ—ó –Ω–∞–¥—Ö–æ–¥–∂–µ–Ω—å

### –ï–¢–ê–ü 8: –ê—É–¥–∏—Ç —ñ –ª–æ–≥—É–≤–∞–Ω–Ω—è
- `016_create_user_audit_table.sql` - –ê—É–¥–∏—Ç –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤
- `017_create_security_events_table.sql` - –ü–æ–¥—ñ—ó –±–µ–∑–ø–µ–∫–∏
- `018_create_api_audit_log_table.sql` - –õ–æ–≥ API
- `019_create_operations_log_table.sql` - –û–ø–µ—Ä–∞—Ü—ñ–π–Ω–∏–π –ª–æ–≥

## üöÄ –Ø–∫ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏

1. –í—ñ–¥–∫—Ä–∏—Ç–∏ Supabase Dashboard
2. –ü–µ—Ä–µ–π—Ç–∏ –≤ SQL Editor
3. –í–∏–∫–æ–Ω–∞—Ç–∏ —Ñ–∞–π–ª–∏ –º—ñ–≥—Ä–∞—Ü—ñ—ó –ø–æ –ø–æ—Ä—è–¥–∫—É
4. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥–Ω—ñ —Ç–µ—Å—Ç–∏ –∑ –ø–∞–ø–∫–∏ `/tests/supabase/`

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏

- –í—Å—ñ —Å–∫—Ä–∏–ø—Ç–∏ –º–∞—é—Ç—å `DROP TABLE IF EXISTS` –¥–ª—è –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É
- –í–∫–ª—é—á–µ–Ω—ñ —Ç–µ—Å—Ç–æ–≤—ñ –¥–∞–Ω—ñ –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏
- –î–æ–¥–∞–Ω—ñ –∫–æ–º–µ–Ω—Ç–∞—Ä—ñ –¥–æ —Ç–∞–±–ª–∏—Ü—å —Ç–∞ –∫–æ–ª–æ–Ω–æ–∫
- –°—Ç–≤–æ—Ä–µ–Ω—ñ –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —ñ–Ω–¥–µ–∫—Å–∏ –¥–ª—è –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ